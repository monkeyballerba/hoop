--// GUI + Toggle Auto Green

-- GUI CREATION
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ArcadeBasketballGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 200, 0, 100)
Frame.Position = UDim2.new(0, 20, 0, 200)
Frame.BackgroundTransparency = 0.2
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "üèÄ Arcade Basketball"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = Frame

local Button = Instance.new("TextButton")
Button.Size = UDim2.new(0.9, 0, 0, 40)
Button.Position = UDim2.new(0.05, 0, 0.5, 0)
Button.Text = "üß† Enable Auto Green"
Button.BackgroundColor3 = Color3.fromRGB(30, 150, 50)
Button.TextColor3 = Color3.new(1, 1, 1)
Button.Font = Enum.Font.SourceSansBold
Button.TextSize = 20
Button.Parent = Frame

-- TOGGLE LOGIC
local autoGreenEnabled = false
local originalHook
local hookedFunction

Button.MouseButton1Click:Connect(function()
    autoGreenEnabled = not autoGreenEnabled

    if autoGreenEnabled then
        Button.Text = "‚úÖ Auto Green ON"
        Button.BackgroundColor3 = Color3.fromRGB(20, 200, 20)

        originalHook = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
            local method = getnamecallmethod()
            local args = {...}

            if not checkcaller() and method == "FireServer" and tostring(self) == "Shoot" and args[1] == false then
                args[2] = -0.98
            end

            return originalHook(self, unpack(args))
        end))

    else
        Button.Text = "‚ùå Auto Green OFF"
        Button.BackgroundColor3 = Color3.fromRGB(150, 50, 50)

        -- Since we can't truly unhook, we just stop modifying
        originalHook = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
            return originalHook(self, ...)
        end))
    end
end)
